{"remainingRequest":"/srv/app/node_modules/babel-loader/lib/index.js!/srv/app/node_modules/cache-loader/dist/cjs.js??ref--0-0!/srv/app/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/srv/app/src/components/widgets/FearAndGreed.vue?vue&type=script&lang=js","dependencies":[{"path":"/srv/app/src/components/widgets/FearAndGreed.vue","mtime":1623970670400},{"path":"/srv/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/srv/app/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/srv/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/srv/app/node_modules/vue-loader-v16/dist/index.js","mtime":1616796459000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwp2YXIgVVJMID0gJ2h0dHBzOi8vYXBpLmFsdGVybmF0aXZlLm1lL2ZuZy8nOwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0ZlYXIgYW5kIEdyZWVkJywKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY29sb3JGZWFyOiBbMTE1LCAxNTksIDI1MV0sCiAgICAgIGNvbG9yR3JlZWQ6IFsyMSwgMjI2LCAzN10sCiAgICAgIGxvYWRpbmc6IHRydWUsCiAgICAgIHN0YXR1czogbnVsbCwKICAgICAgdmFsdWU6IG51bGwsCiAgICAgIG5leHRQdWxzZUNvdW50ZXI6IDAKICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5nZXREYXRhKCk7CiAgfSwKICBjb21wdXRlZDogewogICAgdmFsdWVDb2xvcjogZnVuY3Rpb24gdmFsdWVDb2xvcigpIHsKICAgICAgcmV0dXJuIHRoaXMuaW50ZXJwb2xhdGVDb2xvcih0aGlzLmNvbG9yRmVhciwgdGhpcy5jb2xvckdyZWVkLCB0aGlzLnZhbHVlIC8gMTAwKTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGdldERhdGE6IGZ1bmN0aW9uIGdldERhdGEoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLm5leHRQdWxzZUNvdW50ZXIgPSBudWxsOwogICAgICBheGlvcy5nZXQoVVJMKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIHZhciBkYXRhID0gcmVzcG9uc2UuZGF0YS5kYXRhWzBdOyAvL2NvbnNvbGUubG9nKGRhdGEpOwoKICAgICAgICBfdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgX3RoaXMuc3RhdHVzID0gZGF0YS52YWx1ZV9jbGFzc2lmaWNhdGlvbjsKICAgICAgICBfdGhpcy52YWx1ZSA9IGRhdGEudmFsdWU7CiAgICAgICAgX3RoaXMubmV4dFB1bHNlQ291bnRlciA9IHBhcnNlSW50KGRhdGEudGltZV91bnRpbF91cGRhdGUgKyAxMDApOwogICAgICB9KTsKICAgIH0sCiAgICBpbnRlcnBvbGF0ZUNvbG9yOiBmdW5jdGlvbiBpbnRlcnBvbGF0ZUNvbG9yKGNvbG9yMSwgY29sb3IyLCBmYWN0b3IpIHsKICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPCAzKSB7CiAgICAgICAgZmFjdG9yID0gMC41OwogICAgICB9CgogICAgICB2YXIgcmVzdWx0ID0gY29sb3IxLnNsaWNlKCk7CgogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDM7IGkrKykgewogICAgICAgIHJlc3VsdFtpXSA9IE1hdGgucm91bmQocmVzdWx0W2ldICsgZmFjdG9yICogKGNvbG9yMltpXSAtIGNvbG9yMVtpXSkpOwogICAgICB9CgogICAgICByZXR1cm4gInJnYigiLmNvbmNhdChyZXN1bHRbMF0sICIsIikuY29uY2F0KHJlc3VsdFsxXSwgIiwiKS5jb25jYXQocmVzdWx0WzJdLCAiKSIpOwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIG5leHRQdWxzZUNvdW50ZXI6IGZ1bmN0aW9uIG5leHRQdWxzZUNvdW50ZXIobmV3VmFsdWUpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICBpZiAobmV3VmFsdWUpIHsKICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzMi5nZXREYXRhKCk7CiAgICAgICAgfSwgbmV3VmFsdWUpOwogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["/srv/app/src/components/widgets/FearAndGreed.vue"],"names":[],"mappings":";;AAiCA,IAAM,GAAE,GAAI,iCAAZ;AAEA,OAAO,KAAP,MAAkB,OAAlB;AAEA,eAAe;AACb,EAAA,IAAI,EAAE,gBADO;AAEb,EAAA,IAFa,kBAEN;AACL,WAAO;AACL,MAAA,SAAS,EAAG,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CADP;AAEL,MAAA,UAAU,EAAE,CAAC,EAAD,EAAK,GAAL,EAAU,EAAV,CAFP;AAGL,MAAA,OAAO,EAAK,IAHP;AAIL,MAAA,MAAM,EAAM,IAJP;AAKL,MAAA,KAAK,EAAO,IALP;AAML,MAAA,gBAAgB,EAAE;AANb,KAAP;AAQD,GAXY;AAab,EAAA,OAba,qBAaH;AACR,SAAK,OAAL;AACD,GAfY;AAiBb,EAAA,QAAQ,EAAC;AACP,IAAA,UADO,wBACM;AACX,aAAO,KAAK,gBAAL,CAAsB,KAAK,SAA3B,EAAsC,KAAK,UAA3C,EAAuD,KAAK,KAAL,GAAa,GAApE,CAAP;AACF;AAHO,GAjBI;AAuBb,EAAA,OAAO,EAAE;AACP,IAAA,OADO,qBACG;AAAA;;AACR,WAAK,gBAAL,GAAwB,IAAxB;AACA,MAAA,KAAK,CAAC,GAAN,CAAU,GAAV,EAAe,IAAf,CAAoB,UAAC,QAAD,EAAc;AAChC,YAAI,IAAG,GAAO,QAAQ,CAAC,IAAT,CAAc,IAAd,CAAmB,CAAnB,CAAd,CADgC,CAEhC;;AACA,QAAA,KAAI,CAAC,OAAL,GAAe,KAAf;AACA,QAAA,KAAI,CAAC,MAAL,GAAe,IAAI,CAAC,oBAApB;AACA,QAAA,KAAI,CAAC,KAAL,GAAe,IAAI,CAAC,KAApB;AACA,QAAA,KAAI,CAAC,gBAAL,GAAwB,QAAQ,CAAC,IAAI,CAAC,iBAAL,GAAyB,GAA1B,CAAhC;AACD,OAPD;AAQD,KAXM;AAaP,IAAA,gBAbO,4BAaU,MAbV,EAakB,MAblB,EAa0B,MAb1B,EAakC;AACvC,UAAI,SAAS,CAAC,MAAV,GAAmB,CAAvB,EAA0B;AACxB,QAAA,MAAK,GAAI,GAAT;AACF;;AACA,UAAI,MAAK,GAAI,MAAM,CAAC,KAAP,EAAb;;AACA,WAAK,IAAI,CAAA,GAAI,CAAb,EAAgB,CAAA,GAAI,CAApB,EAAuB,CAAC,EAAxB,EAA4B;AAC1B,QAAA,MAAM,CAAC,CAAD,CAAN,GAAY,IAAI,CAAC,KAAL,CAAW,MAAM,CAAC,CAAD,CAAN,GAAY,MAAK,IAAK,MAAM,CAAC,CAAD,CAAN,GAAY,MAAM,CAAC,CAAD,CAAvB,CAA5B,CAAZ;AACF;;AAEA,2BAAc,MAAM,CAAC,CAAD,CAApB,cAA2B,MAAM,CAAC,CAAD,CAAjC,cAAwC,MAAM,CAAC,CAAD,CAA9C;AACD;AAvBM,GAvBI;AAiDb,EAAA,KAAK,EAAE;AACL,IAAA,gBADK,4BACa,QADb,EACuB;AAAA;;AAC1B,UAAG,QAAH,EAAa;AACX,QAAA,UAAU,CAAC,YAAM;AACf,UAAA,MAAI,CAAC,OAAL;AACD,SAFS,EAEP,QAFO,CAAV;AAGF;AACF;AAPK;AAjDM,CAAf","sourcesContent":["<template>\n<section class=\"Gf_Content\">\n  <div v-if=\"loading\">\n    loading...\n  </div>\n  <div v-else>\n   <h2 class=\"Gf_title\">{{ status }}</h2>\n  </div>\n\n  <div class=\"Gf_value\">\n    <div\n      class=\"Gf_valueBubble\"\n      :style=\"`background-color: ${valueColor}; margin-left: ${value}%;`\"\n     >\n       {{ value }}\n     </div>\n  </div>\n\n  <div class=\"Gf_bar\">\n    <div\n      class=\"Gf_barLine\"\n      :style=\"`background-color: ${valueColor}; width: ${value}%;`\"\n      ></div>\n  </div>\n  <div class=\"Gf_labels\">\n    <div>Fear</div>\n    <div>Greed</div>\n  </div>\n  </section>\n</template>\n\n<script>\n\nconst URL = 'https://api.alternative.me/fng/';\n\nimport axios from 'axios';\n\nexport default {\n  name: 'Fear and Greed',\n  data() {\n    return {\n      colorFear:  [115, 159, 251],\n      colorGreed: [21, 226, 37],\n      loading:    true,\n      status:     null,\n      value:      null,\n      nextPulseCounter: 0\n    }\n  },\n\n  created() {\n    this.getData();\n  },\n\n  computed:{\n    valueColor() {\n      return this.interpolateColor(this.colorFear, this.colorGreed, this.value / 100);\n    }\n  },\n\n  methods: {\n    getData() {\n      this.nextPulseCounter = null;\n      axios.get(URL).then((response) => {\n        let data    = response.data.data[0];\n        //console.log(data);\n        this.loading = false;\n        this.status  = data.value_classification;\n        this.value   = data.value;\n        this.nextPulseCounter = parseInt(data.time_until_update + 100);\n      })\n    },\n\n    interpolateColor(color1, color2, factor) {\n      if (arguments.length < 3) {\n        factor = 0.5;\n      }\n      var result = color1.slice();\n      for (var i = 0; i < 3; i++) {\n        result[i] = Math.round(result[i] + factor * (color2[i] - color1[i]));\n      }\n\n      return `rgb(${result[0]},${result[1]},${result[2]})`;\n    },\n  },\n\n  watch: {\n    nextPulseCounter (newValue) {\n      if(newValue) {\n        setTimeout(() => {\n          this.getData();\n        }, newValue);\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n  @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@300;400&display=swap');\n\n  :root {\n    --barBorderRadius: 20px;\n    --barColorBackground: red;\n  }\n\n  .Gf_Content {\n    --barBorderRadius: 20px;\n    --barColorBackground: #1f1f1f;\n\n    font-family: 'Roboto', sans-serif;\n    color: #fff;\n    padding: 20px;\n    border-radius: 5px;\n    background-color: #000;\n  }\n\n  .Gf_title {\n    margin: 0 0 10px;\n    font-weight: normal;\n    font-size: 20px;\n  }\n\n  .Gf_bar {\n    display: flex;\n    width: 100%;\n    height: 40px;\n    margin: 0 auto;\n    border-radius: var(--barBorderRadius);\n    background-color: var(--barColorBackground);\n  }\n\n  .Gf_barLine {\n    height: 100%;\n    border-radius: var(--barBorderRadius) 0 0 var(--barBorderRadius);\n  }\n\n  .Gf_labels {\n    display: flex;\n    padding: 15px 5px 0;\n    justify-content: space-between;\n  }\n\n  .Gf_labels div {\n    flex: 0 0 auto;\n  }\n\n  .Gf_value {\n    padding: 0 5px 10px;\n  }\n\n  .Gf_valueBubble {\n    display: inline-block;\n    width: 40px;\n    height: 40px;\n    line-height: 40px;\n    text-align: center;\n    border-radius: 50%;\n    transform: translate(-50%, 0);\n  }\n</style>\n"],"sourceRoot":""}]}